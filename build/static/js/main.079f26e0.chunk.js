(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(23),s=a.n(o),i=a(14),c=(a(81),a(3)),u=a.n(c),p=a(9),d=a(33),l=a(34),f=a(36),h=a(35),m=a(37),b=a(46),v=a.n(b),y=a(72),O=a(38),w=a(45),E=a.n(w),j={dataPoints:[],error:null},x=function(t){return function(){var e=Object(p.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SET_ERROR",error:t}),setTimeout(function(){a({type:"SET_ERROR",error:null})},4e3);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_ALL_DATA_POINTS":return Object(O.a)({},t,{dataPoints:e.dataPoints});case"SET_NEW_DATA_POINT":return Object(O.a)({},t,{dataPoints:[].concat(Object(y.a)(t.dataPoints),[e.dataPoints])});case"SET_ERROR":return Object(O.a)({},t,{error:e.error});default:return t}},T=a(70),_=a.n(T),g=function(t){function e(){return Object(d.a)(this,e),Object(f.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=[{name:"Sensor 1",type:"line",data:this.props.sensor1?this.props.sensor1.map(function(t){return{x:t.date,y:t.data}}):[]},{name:"Sensor 2",type:"line",data:this.props.sensor2?this.props.sensor2.map(function(t){return{x:t.date,y:t.data}}):[]},{name:"Sensor 3",type:"line",data:this.props.sensor3?this.props.sensor3.map(function(t){return{x:t.date,y:t.data}}):[]},{name:"Sensor 4",type:"line",data:this.props.sensor4?this.props.sensor4.map(function(t){return{x:t.date,y:t.data}}):[]}];return r.a.createElement("div",null,r.a.createElement(_.a,{options:{title:{text:"Data Points",align:"center",margin:20,style:{fontSize:"20px"}},yaxis:{seriesName:"dataPoints",axisTicks:{show:!0},axisBorder:{show:!0,color:"#662E9B"},labels:{style:{color:"#662E9B"}},tooltip:{enabled:!0}},tooltip:{fixed:{enabled:!0,position:"topLeft",offsetY:30,offsetX:60}},legend:{position:"top",horizontalAlign:"right",offsetX:40,showForNullSeries:!1}},series:t,type:"line",width:"700px"}))}}]),e}(n.Component),k=Object(i.b)(function(t){return{sensor1:t.data.dataPoints.map(function(t){return{date:t.data.date,data:t.data.sensor1}}),sensor2:t.data.dataPoints.map(function(t){return{date:t.data.date,data:t.data.sensor2}}),sensor3:t.data.dataPoints.map(function(t){return{date:t.data.date,data:t.data.sensor3}}),sensor4:t.data.dataPoints.map(function(t){return{date:t.data.date,data:t.data.sensor4}})}})(g),A=function(t){function e(){return Object(d.a)(this,e),Object(f.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=Object(p.a)(u.a.mark(function t(){var e=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.getAllDataPoints();case 2:setInterval(function(){return e.props.fetchNewData},36e5);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.props.fetchNewData();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.props.getAllDataPoints();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Data visualization"),r.a.createElement("p",null,"This app fetches a new data point from a given api every hour and adds it to the chart."),r.a.createElement("p",null,"These buttons are meant for developing:"),r.a.createElement(v.a,{variant:"outlined",size:"large",onClick:e},"Fetch a new data point"),r.a.createElement(v.a,{variant:"outlined",size:"large",onClick:a},"Get all data points"),r.a.createElement("h1",null,"Charts"),r.a.createElement(k,null))}}]),e}(n.Component),S={fetchNewData:function(){return function(){var t=Object(p.a)(u.a.mark(function t(e){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/fetch_new_data");case 3:if("data point already saved"!==(a=t.sent).data){t.next=7;break}return x("data point already saved"),t.abrupt("return");case 7:e({type:"SET_NEW_DATA_POINT",dataPoints:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),x(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},getAllDataPoints:function(){return function(){var t=Object(p.a)(u.a.mark(function t(e){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/get_data_points");case 3:a=t.sent,e({type:"SET_ALL_DATA_POINTS",dataPoints:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),x(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}},D=Object(i.b)(function(t){return{}},S)(A),N=a(15),R=a(71),I=Object(N.c)({data:P}),z=Object(N.d)(I,Object(N.a)(R.a)),C=function(){s.a.render(r.a.createElement(i.a,{store:z},r.a.createElement(D,null)),document.getElementById("root"))};C(),z.subscribe(C)},73:function(t,e,a){t.exports=a(182)}},[[73,1,2]]]);
//# sourceMappingURL=main.079f26e0.chunk.js.map